<!DOCTYPE html>
<html lang="en">
	<head>

		<title> graph editor </title>

		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<!--script src="https://d3js.org/d3.v7.min.js"></script>
		<script src="./editor.js"></script-->

	</head>
	<body>

		<div class="page_header">

			<h1> D3 Graph Editor Module </h1>

		</div>

		<div id="page_contents">

			Initialize:
			<p>
			<input
				type="button"
				id="restart_simple_button"
				value="simple"
				style="color:black">
			<input
				type="button"
				id="restart_ring_button"
				value="ring"
				style="color:black">
			<input
				type="button"
				id="restart_chain_button"
				value="chain"
				style="color:black">
			<p>

			Links:<br>
				- For each node selected, select its links.
			<p>
			Add:<br>
				- If no nodes selected, add new loose node.<br>
				- If one is selected, add new node and link to it.<br>
				- If more are selected, link them together in order.
			<p>
			Del:<br>
				- Remove all selected elements.
			<p>

			<div id="graph_plot_div" style="border:1px solid lightgrey; padding: 5px">
				<input
					type="button"
					id="links_button"
					value="links"
					style="color:black">
				<input
					type="button"
					id="add_button"
					value="add"
					style="color:black">
				<input
					type="button"
					id="delete_button"
					value="del"
					style="color:black">
				<br>
			</div>

			<p>
			<input
				type="button"
				id="print_button"
				value="print"
				style="color:black">
			<br>
			<textarea id="output_log" readonly=true rows="10" cols="40"></textarea>
			<p>

		</div>

		<div class="page_footer">
			<p>
			<em> Â© thiebaux 2022 </em>
		</div>

	</body>
	<script type="module">

		import * as app from './module.js';

		const view_obj = {

			elements:	{
				graphic:	"graph_plot_div",
				simple:		"restart_simple_button",
				ring: 		"restart_ring_button",
				chain:		"restart_chain_button",
				links:		"links_button",
				add:		"add_button",
				del:		"delete_button",
				print:		"print_button",
				log:		"output_log"
			},
			select( id )	{
				return( "#" + this.elements[ id ] );
			},

			log_str( str )	{
				let log_area = document.getElementById( this.elements[ "log" ] );
				log_area.value += str;
				log_area.value += '\n';
				log_area.scrollTop = log_area.scrollHeight;
			},
			log( input )	{
				if( typeof input === "string" )	{
					this.log_str( input );
				}
				else	{
					this.log_str( JSON.stringify( input, null, 2 ) );
				}
			}
		};

		app.test_graph_editor( view_obj );

	</script>

</html>
