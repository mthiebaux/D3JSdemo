<!DOCTYPE html>
<html lang="en">
	<head>

		<title> graph editor module </title>

		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<!--script src="https://d3js.org/d3.v7.min.js"></script>
		<script src="./editor.js"></script-->

	</head>
	<body style="font-family:helvetica; font-weight:lighter; background:linear-gradient( 60deg, #ffffff, #c4dfee );">

		<div class="page_header">

			<h2> D3 Graph Editor Module </h2>

		</div>

		<div id="page_contents">

			Initialize:
			<br>
			<input
				type="button"
				id="init_simple_button"
				value="simple"
				style="color:black">
			<input
				type="button"
				id="init_ring_button"
				value="ring"
				style="color:black">
			<input
				type="button"
				id="init_chain_button"
				value="chain"
				style="color:black">
			<input
				type="button"
				id="init_power_button"
				value="power"
				style="color:black">
			<p>

			Links:<br>
				&#8226; For each node selected, select its links.
			<p>
			Add:<br>
				&#8226; If no nodes selected, add new loose node.<br>
				&#8226; If one is selected, add new node and link to it.<br>
				&#8226; If more are selected, link them together in order.
			<p>
			Del:<br>
				&#8226; Remove all selected elements.
			<p>

			<div style="border:1px solid lightgrey; background:white; padding:5px">

				<input
					type="button"
					id="links_button"
					value="links"
					style="color:black">
				<input
					type="button"
					id="add_button"
					value="add"
					style="color:black">
				<input
					type="button"
					id="delete_button"
					value="del"
					style="color:black">
				<br>

				<div id="graph_plot_div"></div>

				<input id="rate_slider" type="range"
					min="0" max="100" value="0"
					style="width:98%; height:10px;">

			</div>
			<p>

			<div id="histo_plot_div" ></div>
			<p>

			<input
				type="button"
				id="print_button"
				value="print"
				style="color:black">
			<br>
			<textarea id="output_log" readonly=true rows="10" cols="40"></textarea>
			<p>

		</div>

		<div class="page_footer">
			<p>
			<em> Â© thiebaux 2022 </em>
		</div>

	</body>
	<script type="module">

		import * as editor from './editor.js';

		const view_obj = {

			elements:	{
				graphic:	"graph_plot_div",
				histo:		"histo_plot_div",
				simple:		"init_simple_button",
				ring: 		"init_ring_button",
				chain:		"init_chain_button",
				power:		"init_power_button",
				links:		"links_button",
				add:		"add_button",
				del:		"delete_button",
				rate:		"rate_slider",
				print:		"print_button",
				log:		"output_log"
			},
			select( id )	{
				return( "#" + this.elements[ id ] );
			},

			log_str( str )	{
				let log_area = document.getElementById( this.elements[ "log" ] );
				log_area.value += str;
				log_area.value += '\n';
				log_area.scrollTop = log_area.scrollHeight;
			},
			log( input )	{
				if( typeof input === "string" )	{
					this.log_str( input );
				}
				else	{
					this.log_str( JSON.stringify( input, null, 2 ) );
				}
			}
		};

		editor.init( view_obj );

	</script>

</html>
